<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>The Holodeck</title>
    <meta name="description" content="The Holodeck">
    <script src="https://aframe.io/releases/0.9.0/aframe.min.js"></script>
    <script src="./components/axis-powers.js"></script>
    <script src="https://unpkg.com/aframe-log-component/dist/aframe-log-component.min.js"></script>
  </head>
  <body>
    <a-scene>
      <a-assets>
        <img id='grid' src='./grid.png'>
        <a-asset-item id='c-arch' src='./models/holoarch.dae'></a-asset-item>
        <a-asset-item id='door' src='./models/door.gltf'></a-asset-item>
        <a-asset-item id='navmesh' src='./models/navmesh.gltf'>
      </a-assets>


      <!-- Staging Area -- put objects here -->

      <!-- End Staging Area -->

      <!-- Controller -->

      <!-- Camera Rig -->
      <a-entity id="rig"
                movement-controls='speed: 0.1; constrainToNavMesh: true; controls: keyboard;'
                rotation='0 0 0'
                position="0 0 0">

      <a-entity
        raycaster='far: 100; showLine: true;'
        line='color: blue;'
        axis-powers
        laser-controls></a-entity>
        <a-entity camera
                  position='0 1.6 0'
                  rotation='0 90 0'
                  look-controls="pointerLockEnabled: true">
          <a-cursor color='red'></a-cursor>
        </a-entity>
      </a-entity>
      <!-- End Camera Rig -->

      <!-- Permanent Fixtures -->
      <a-light type='ambient' color='#fff'></a-light>

      <!-- Log Panel -->
      <a-entity log='max: 10;'
                geometry="primitive: plane; height: 2; width: 4.5;"
                material='color: #000; side: double;'
                text="color: green;"
                position='-0.5 2.6 4.99'
                rotation='0 180 0'></a-entity>
      <!-- End Log Panel -->

      <!-- The NavMesh -->
      <a-gltf-model nav-mesh src='#navmesh' position='0 1 0' visible='false'></a-gltf-model>

      <!-- End Permanent Fixtures -->


      <!-- Architecture -->
      <!-- Ceiling and Floor -->

      <a-entity id='the-ceiling' geometry="primitive: plane; width: 10; height: 10;"
                rotation="90 0 0"
                material="src: #grid; repeat: 30 30; side: double;"
                position='0 6 0'
                visible='true'></a-entity>


      <a-entity id='the-floor' geometry="primitive: plane; width: 10; height: 10;"
                rotation="-90 0 0"
                material="src: #grid; repeat: 30 30; side: double;"
                position='0 0 0'
                visible='true'></a-entity>

      <!-- Walls -->
        <!-- Front Wall -->
      <a-entity geometry="primitive: plane; width: 10; height: 10;"
                rotation="0 0 0"
                material="src: #grid; repeat: 30 30; side: double; "
                position='0 2 -5'
                visible='true'></a-entity>

        <!-- Back Wall -->
      <a-entity geometry="primitive: plane; width: 10; height: 10;"
                rotation="0 180 0"
                material="src: #grid; repeat: 30 30; side: double;"
                position='0 2 5'
                visible='true'></a-entity>
        <!-- Right Wall -->
      <a-entity geometry="primitive: plane; width: 10; height: 10;"
                rotation="0 -90 90"
                material="src: #grid; repeat: 30 30; side: double;"
                position='5 2 0'
                visible='true'></a-entity>
        <!-- Left Wall -->
      <a-entity geometry="primitive: plane; width: 10; height: 10;"
                rotation="0 90 90"
                material="src: #grid; repeat: 30 30; side: double;"
                position='-5 2 0'
                visible='true'></a-entity>
        <!-- Arch -->
      <a-entity collada-model="#c-arch"
                scale="1.4 1.7 1.4"
                position="-1.8 0 -5"></a-entity>

         <!--Door -->
      <a-entity gltf-model-legacy="#door"
                scale="1.8 1.5 1.4"
                position="-1.8 0 -4.5"</a-entity>
      <!-- End Architecture -->
    </a-scene>
  </body>
</html>
